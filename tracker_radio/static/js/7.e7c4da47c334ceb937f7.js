webpackJsonp([7],{"5kwi":function(t,e){},xsBa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mtWM"),n=a.n(i),r=a("X+2x"),s=a.n(r),l=a("kxiW"),c=a.n(l),o={data:function(){return{track_fields:[{key:"title",label:"Title"},{key:"artist",label:"Artist"},{key:"rating",label:"Rating"}],tracks:[]}},props:{user:Object,playlist:Array,editablePlaylist:Boolean},watch:{playlist:function(t,e){this.$emit("track-selected",null)},editablePlaylist:function(t,e){this.track_fields=[{key:"title",label:"Title"},{key:"artist",label:"Artist"},{key:"rating",label:"Rating"}],t&&this.track_fields.push({key:"remove",label:"Remove"})}},methods:{trackSelected:function(t,e){this.$emit("track-selected",t.id)},onRemoveTrack:function(t){if(this.playlistId){var e=c.a.auth().currentUser;if(e){var a=this;e.getIdToken(!0).then(function(e){var i="https://indigobeetle.pythonanywhere.com/api/playlists/"+a.playlistId+"/tracks/"+t;n.a.delete(i,{headers:{Authorization:"bearer "+e}}).then(function(t){a.getPlaylistTracksFromBackend()}).catch(function(t){console.log(t)})})}}}},components:{StarRating:s.a}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"panel",attrs:{id:"tracks","no-body":"",header:"Tracks"}},[a("b-card-body",{staticClass:"tracks-list"},[a("b-table",{attrs:{striped:"",hover:"",responsive:"",items:t.playlist,fields:t.track_fields,small:""},on:{"row-clicked":t.trackSelected},scopedSlots:t._u([{key:"artist",fn:function(e){return[t._v("\n        "+t._s(e.item.artist.name)+"\n      ")]}},{key:"rating",fn:function(e){return[a("star-rating",{attrs:{"star-size":20,"read-only":!0},model:{value:e.item.average_rating,callback:function(a){t.$set(e.item,"average_rating",a)},expression:"data.item.average_rating"}})]}},{key:"remove",fn:function(e){return[t.editablePlaylist?a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){t.onRemoveTrack(e.item.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1):t._e()]}}])})],1)],1)},staticRenderFns:[]};var u=a("VU/8")(o,d,!1,function(t){a("5kwi")},"data-v-5f423376",null);e.default=u.exports}});
//# sourceMappingURL=7.e7c4da47c334ceb937f7.js.map