webpackJsonp([11],{"1/oy":function(e,t){},"9M+g":function(e,t){},EmOQ:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),o=a("e6fC"),r=(a("EmOQ"),a("Jmt5"),a("9M+g"),a("kxiW")),i=a.n(r),c=a("mtWM"),s=a.n(c),d={name:"App",data:function(){return{user:null,feedbackEmail:"",feedbackContent:""}},mounted:function(){var e=this;i.a.auth().onAuthStateChanged(function(t){t?(e.user=t,e.feedbackEmail=t.email,t.getIdToken(!0).then(function(e){s.a.post("https://indigobeetle.pythonanywhere.com/api/signin",{token:e},{headers:{Authorization:"bearer "+e}}).then(function(e){console.log(e)})})):(e.user=null,e.feedbackEmail="")})},methods:{logout:function(){var e=this;i.a.auth().signOut().then(function(){e.user=null},function(e){console.log(e)})},onSubmitFeedback:function(e){e.preventDefault();var t="https://indigobeetle.pythonanywhere.com/api/feedback",a=i.a.auth().currentUser;if(a){var n=this;a.getIdToken(!0).then(function(e){s.a.post(t,{email:n.feedbackEmail,content:n.feedbackContent},{headers:{Authorization:"bearer "+e}}).then(function(e){console.log(e),n.$refs.feedbackModal.hide()})})}else s.a.post(t,{email:this.feedbackEmail,content:this.feedbackContent}).then(function(e){console.log(e),n.$refs.feedbackModal.hide()})},onResetFeedback:function(e){e.preventDefault(),this.feedbackEmail="",this.feedbackContent=""}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",[a("b-container",[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),a("b-navbar-brand",{attrs:{href:"#"}},[e._v("Tracker Radio")]),e._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"/artists"}},[e._v("Artists")])],1),e._v(" "),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[null!=e.user?a("b-nav-item-dropdown",{attrs:{"no-caret":""}},[a("template",{slot:"button-content"},[a("b-img",{staticClass:"avatar-image",attrs:{src:e.user.photoURL}})],1),e._v(" "),a("b-dropdown-item",{on:{click:e.logout}},[e._v("Logout")])],2):a("b-nav-item",{attrs:{href:"/login"}},[e._v("Login")])],1)],1)],1)],1)],1)],1),e._v(" "),a("div",{attrs:{id:"page"}},[a("router-view",{attrs:{user:e.user}})],1),e._v(" "),a("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}],attrs:{id:"feedback-button"}},[e._v("\n    Feedback\n  ")]),e._v(" "),a("b-modal",{ref:"feedbackModal",attrs:{id:"modal1",title:"Your Feedback is Welcome","ok-disabled":"","cancel-disabled":""}},[a("b-form",{on:{submit:e.onSubmitFeedback,reset:e.onResetFeedback}},[null==e.user?a("b-form-group",{attrs:{id:"feedbackEmailGroup",label:"Email address","label-for":"feedbackEmailInput"}},[a("b-form-input",{attrs:{id:"feedbackEmailInput",type:"email",placeholder:"Enter email",required:""},model:{value:e.feedbackEmail,callback:function(t){e.feedbackEmail=t},expression:"feedbackEmail"}})],1):e._e(),e._v(" "),a("b-form-group",{attrs:{id:"feedbackContentGroup",label:"Enter your comments","label-for":"feedbackContentTextArea"}},[a("b-form-textarea",{attrs:{id:"feedbackContentTextArea",placeholder:"Enter your comments",rows:5},model:{value:e.feedbackContent,callback:function(t){e.feedbackContent=t},expression:"feedbackContent"}})],1),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),e._v(" "),a("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1),e._v(" "),a("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"})],1)],1)},staticRenderFns:[]};var l=a("VU/8")(d,u,!1,function(e){a("ZvL+")},null,null).exports,b=a("Dd8w"),m=a.n(b),f=a("/ocq"),p=[{path:"/",component:"Home"},{path:"/about",component:"About"},{path:"/artists",component:"Artists"},{path:"/login",component:"Login"},{path:"/sign-up",component:"SignUp"},{path:"/track/:id",component:"Track"}].map(function(e){return m()({},e,{component:function(){return a("mUJ2")("./"+e.component+".vue")}})});n.a.use(f.a);var v=new f.a({routes:p,mode:"history"}),k=a("yviF"),h=a.n(k),g=a("C/JF"),_=a("fhbW"),E=a("1e6/");g.c.add(_.d),g.c.add(_.c),g.c.add(_.a),g.c.add(_.b),n.a.component("font-awesome-icon",E.a),n.a.config.productionTip=!1,n.a.use(o.a);h.a.initializeApp({apiKey:"AIzaSyBpiuyGfSBMAUKFOKEce-oEWDAvvf5sGTE",authDomain:"trackerradio.firebaseapp.com",databaseURL:"https://trackerradio.firebaseio.com",projectId:"trackerradio",storageBucket:"trackerradio.appspot.com",messagingSenderId:"688829133193"}),new n.a({el:"#app",router:v,components:{App:l},template:"<App/>"})},"ZvL+":function(e,t){},mUJ2:function(e,t,a){var n={"./About.vue":["c27y",9],"./Artist.vue":["XaKJ",5],"./Artists.vue":["7IOM",0,1],"./HelloWorld.vue":["gORT",4],"./Home.vue":["lO7g",8],"./Login.vue":["xJsL",2],"./SignUp.vue":["ApaE",3],"./Track.vue":["fkBk",0,7],"./TrackData.vue":["Pbam",0],"./TrackList.vue":["Rwbn",0,6],"./TrackPlayer.vue":["YMQP",0]};function o(e){var t=n[e];return t?Promise.all(t.slice(1).map(a.e)).then(function(){return a(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}o.keys=function(){return Object.keys(n)},o.id="mUJ2",e.exports=o},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ef2692e029b309695a46.js.map