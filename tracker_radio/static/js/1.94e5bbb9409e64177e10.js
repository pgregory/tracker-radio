webpackJsonp([1,4,6,7],{"7IOM":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("mtWM"),s=e.n(r),n=e("XaKJ"),i=e("Rwbn"),c=e("Pbam"),o={name:"Artists",props:{user:Object},data:function(){return{artists:[],artistId:null,trackId:null,letters:["All","0-9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],current_letter:"A",search_string:""}},methods:{filteredArtists:function(){var t=this.search_string.toLowerCase();return this.artists.filter(function(a){return-1!==a.name.toLowerCase().indexOf(t)})},getArtistsFromBackend:function(){var t=this;s.a.get("https://indigobeetle.pythonanywhere.com/api/artists",{params:{letter:this.current_letter}}).then(function(a){t.artists=a.data}).catch(function(t){console.log(t)})},getArtists:function(){this.artists=[],this.tracks=[],this.getArtistsFromBackend()},selectLetter:function(t){this.current_letter=t,this.getArtists()}},components:{Artist:n.default,TrackList:i.default,TrackData:c.default},created:function(){this.getArtists()}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"content"}},[e("b-container",{attrs:{id:"artists-panel"}},[e("p",[t._v("Artists")]),t._v(" "),e("b-row",{staticClass:"letters"},t._l(t.letters,function(a){return e("b-col",{key:a,staticClass:"letter",class:{active:a==t.current_letter},on:{click:function(e){t.selectLetter(a)}}},[e("span",[t._v(t._s(a))])])})),t._v(" "),e("b-row",{staticClass:"search"},[e("b-form-input",{attrs:{type:"text",placeholder:"Search"},model:{value:t.search_string,callback:function(a){t.search_string=a},expression:"search_string"}}),t._v(" "),e("b-button",{on:{click:function(a){t.search_string=""}}},[t._v("X")])],1),t._v(" "),e("b-row",{staticClass:"artists"},[t._l(t.filteredArtists(),function(a){return e("b-col",{key:a.id,staticClass:"artist"},[e("div",{staticClass:"dummy"}),t._v(" "),e("artist",{attrs:{artist:a},on:{"artist-selected":function(e){t.artistId=a.id}}})],1)}),t._v(" "),t.filteredArtists().length<5?t._l(5-t.filteredArtists().length,function(a){return e("b-col",{key:a,staticClass:"artist empty"},[e("div",{staticClass:"dummy"}),t._v(" "),e("artist",{attrs:{empty:""}})],1)}):t._e()],2)],1),t._v(" "),e("b-container",{attrs:{id:"track-panel"}},[e("TrackList",{attrs:{artistId:t.artistId,user:t.user},on:{"track-selected":function(a){t.trackId=a}}}),t._v(" "),e("TrackData",{attrs:{trackId:t.trackId,user:t.user}})],1)],1)},staticRenderFns:[]};var u=e("VU/8")(o,l,!1,function(t){e("cIg1")},"data-v-f92b8ea2",null);a.default=u.exports},"7t7E":function(t,a){},Pbam:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("mtWM"),s=e.n(r),n=e("X+2x"),i=e.n(n),c=e("kxiW"),o=e.n(c),l={data:function(){return{track:null}},props:{user:Object,trackId:Number},watch:{trackId:function(t,a){this.getTrackData()}},methods:{getTrackData:function(){var t=this;if(this.trackId){var a="https://indigobeetle.pythonanywhere.com/api/tracks/"+this.trackId;s.a.get(a).then(function(a){t.track=a.data,console.log(t.track)}).catch(function(t){console.log(t)})}},getTrackLocation:function(t){return"http://app.wetracker.xyz/#/loadsong?play=1&url="+encodeURI("https://modland.ziphoid.com/pub/modules/Fasttracker 2/"+t.location)},setRating:function(t,a){var e="https://indigobeetle.pythonanywhere.com/api/tracks/"+a+"/rate",r=o.a.auth().currentUser;r&&r.getIdToken(!0).then(function(a){s.a.post(e,{rating:t},{headers:{Authorization:"bearer "+a}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})})}},components:{StarRating:i.a},created:function(){this.getTrackData()}},u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{attrs:{id:"track"}},[e("b-row",{attrs:{id:"track-data-title"}},[e("b-col",[e("p",[t._v("Track")])])],1),t._v(" "),e("b-container",{attrs:{id:"track-data"}},[t.track?e("b-container",{staticClass:"track-data-inner"},[e("b-row",[e("p",{staticClass:"track-title"},[t._v(t._s(t.track.title))])]),t._v(" "),e("b-row",[e("a",{staticClass:"track-play",attrs:{href:t.getTrackLocation(t.track),target:"_blank"}},[t._v(">")])]),t._v(" "),e("b-row",[e("star-rating",{attrs:{"star-size":20,"read-only":null==t.user},on:{"rating-selected":function(a){t.setRating(a,t.data.item.id)}},model:{value:t.track.average_rating,callback:function(a){t.$set(t.track,"average_rating",a)},expression:"track.average_rating"}})],1)],1):t._e()],1)],1)},staticRenderFns:[]};var d=e("VU/8")(l,u,!1,function(t){e("7t7E")},"data-v-8078a2c0",null);a.default=d.exports},Rwbn:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("mtWM"),s=e.n(r),n=e("X+2x"),i={data:function(){return{track_fields:["title","rank"],tracks:[]}},props:{user:Object,artistId:Number},watch:{artistId:function(t,a){this.updateArtistTracks(t),this.$emit("track-selected",null)}},methods:{getArtistTracksFromBackend:function(){var t=this;if(this.artistId){var a="https://indigobeetle.pythonanywhere.com/api/artists/"+this.artistId+"/tracks";s.a.get(a).then(function(a){t.tracks=a.data}).catch(function(t){console.log(t)})}},getArtistTracks:function(){this.tracks=[],this.getArtistTracksFromBackend()},updateArtistTracks:function(t){this.getArtistTracksFromBackend()},getTrackLocation:function(t){return"http://app.wetracker.xyz/#/loadsong?play=1&url="+encodeURI("https://modland.ziphoid.com/pub/modules/Fasttracker 2/"+t.location)},trackSelected:function(t,a){this.$emit("track-selected",t.id)}},components:{StarRating:e.n(n).a},created:function(){this.getArtistTracks()}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{attrs:{id:"tracks"}},[e("b-row",{attrs:{id:"tracks-title"}},[e("b-col",[e("p",[t._v("Tracks")])])],1),t._v(" "),e("b-container",{attrs:{id:"track-list"}},[e("b-table",{attrs:{striped:"",hover:"",items:t.tracks,fields:t.track_fields,dark:""},on:{"row-clicked":t.trackSelected},scopedSlots:t._u([{key:"artist",fn:function(a){return[t._v("\n        "+t._s(a.item.artist[0].name)+"\n      ")]}},{key:"rank",fn:function(a){return[e("star-rating",{attrs:{"star-size":20,"read-only":!0},model:{value:a.item.average_rating,callback:function(e){t.$set(a.item,"average_rating",e)},expression:"data.item.average_rating"}})]}}])})],1)],1)},staticRenderFns:[]};var o=e("VU/8")(i,c,!1,function(t){e("dgrk")},"data-v-f0bbaa66",null);a.default=o.exports},XaKJ:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={props:{artist:Object,empty:Boolean},methods:{click:function(){this.$emit("artist-selected")},getRandomAvatar:function(){return"static/avatar-"+("000"+Math.ceil(6*Math.random())).slice(-3)+".png"}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{staticClass:"artist-container",on:{click:t.click}},[e("b-container",{staticClass:"artist",class:{empty:t.empty}},[e("b-row",{staticClass:"artist-name"},[t.artist?e("span",[t._v("\n        "+t._s(t.artist.name)+"\n      ")]):t._e()]),t._v(" "),e("b-row",{staticClass:"artist-image"},[e("div",{staticClass:"artist-image-container"},[t.artist?e("b-img",{attrs:{src:t.getRandomAvatar()}}):t._e()],1)])],1)],1)},staticRenderFns:[]};var n=e("VU/8")(r,s,!1,function(t){e("ePla")},"data-v-c0859060",null);a.default=n.exports},cIg1:function(t,a){},dgrk:function(t,a){},ePla:function(t,a){}});
//# sourceMappingURL=1.94e5bbb9409e64177e10.js.map