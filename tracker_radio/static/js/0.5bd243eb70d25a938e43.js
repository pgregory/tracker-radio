webpackJsonp([0],{"2xgZ":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("woOf"),r=e.n(n),i=e("mtWM"),s=e.n(i),c=e("H33K"),o=e("iwwE"),l=e("kxiW"),u=e.n(l),d=e("TPW+"),v={data:function(){return{tracks:[],headers:[{text:"#",sortable:!1,class:"track-index"},{text:"Title",align:"left",sortable:!0,class:"track-title",value:"title"},{text:"Artist",align:"left",sortable:!0,class:"track-artist",value:"artist.name"},{text:"",sortable:!1,class:"track-play"},{text:"",sortable:!1,class:"track-favourite"},{text:"Average Rating",align:"right",sortable:!0,value:"average_rating"},{text:"",sortable:!1,class:"track-remove"}],loading:!1,noDataMessage:"Loading Playlist"}},props:{user:Object,playlistId:String},mixins:[d.a],watch:{user:function(t,a){this.getPlaylistTracksFromBackend()}},methods:{getPlaylistTracksFromBackend:function(){if(this.loading=!0,this.playlistId){var t=u.a.auth().currentUser;if(t){var a=this;t.getIdToken(!0).then(function(t){var e="https://indigobeetle.pythonanywhere.com/api/autoplaylists/"+a.playlistId+"/tracks";s.a.get(e,{headers:{Authorization:"bearer "+t}}).then(function(t){a.tracks=t.data,a.$emit("num-tracks",a.tracks.length),a.loading=!1}).catch(function(t){console.log(t),a.loading=!1})})}}},onTrackChanged:function(t){var a=this;this.getSingleTrackFromBackend(t).then(function(e){var n=a.tracks.find(function(a){return a.id===t});n&&r()(n,e)}).catch(function(t){console.log(t)})},trackSelected:function(t,a){this.$router.push({name:"track",params:{id:t.id}})},onRemoveTrack:function(t){if(this.playlistId){var a=u.a.auth().currentUser;if(a){var e=this;a.getIdToken(!0).then(function(a){var n="https://indigobeetle.pythonanywhere.com/api/playlists/"+e.playlistId+"/tracks/"+t;s.a.delete(n,{headers:{Authorization:"bearer "+a}}).then(function(t){e.getPlaylistTracksFromBackend()}).catch(function(t){console.log(t)})})}}},onPlayTrack:function(t){this.$emit("play-track",t.id)}},components:{TrackRating:c.default,TrackFavourite:o.default},created:function(){this.getPlaylistTracksFromBackend()}},k={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{sm12:""}},[e("v-card",[e("v-data-table",{staticClass:"elevation-1 tracks",attrs:{headers:t.headers,items:t.tracks,loading:t.loading,"no-data-text":t.noDataMessage},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{on:{click:function(e){t.trackSelected(a.item)}}},[e("td",{staticClass:"track-index"},[t._v(t._s(a.index))]),t._v(" "),e("td",{staticClass:"track-title"},[t._v(t._s(a.item.title))]),t._v(" "),e("td",{staticClass:"track-artist"},[t._v(t._s(a.item.artist.name))]),t._v(" "),e("td",{staticClass:"track-play"},[e("v-icon",{attrs:{large:""},on:{click:function(e){t.onPlayTrack(a.item)}}},[t._v("play_arrow")])],1),t._v(" "),e("td",{staticClass:"track-favourite"},[e("track-favourite",{attrs:{user:t.user,track:a.item},on:{"track-changed":function(a){t.onTrackChanged(a)}}})],1),t._v(" "),e("td",{staticClass:"track-rating"},[e("track-rating",{attrs:{user:t.user,track:a.item},on:{"track-changed":function(a){t.onTrackChanged(a)}}})],1)])]}}])},[e("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1)],1)],1)},staticRenderFns:[]};var g=e("VU/8")(v,k,!1,function(t){e("SsaN"),e("TP1O")},"data-v-4142bb62",null);a.default=g.exports},"56HJ":function(t,a){},CR7z:function(t,a){},"DF/5":function(t,a){},H33K:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("TPW+"),r={data:function(){return{}},props:{user:Object,track:Object},mixins:[n.a],methods:{onSetRating:function(t,a){var e=this;console.log(t),this.setRating(t,a).then(function(){e.$emit("track-changed",a.id)})}},filters:{roundRating:function(t){return t.toFixed(1)}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return null==t.user?e("v-tooltip",{attrs:{bottom:""}},[e("div",{staticClass:"rating",attrs:{slot:"activator"},slot:"activator"},[e("span",{staticClass:"rating-text"},[t._v("\n      ("+t._s(t._f("roundRating")(t.track.average_rating))+")\n    ")]),t._v(" "),e("v-rating",{attrs:{size:20,"read-only":"",dense:""},nativeOn:{click:function(t){t.preventDefault(),t.stopPropagation()}},model:{value:t.track.average_rating,callback:function(a){t.$set(t.track,"average_rating",a)},expression:"track.average_rating"}})],1),t._v(" "),e("span",[t._v("Login/Sign Up to Rate Tracks")])]):e("div",{staticClass:"rating"},[e("span",{staticClass:"rating-text"},[t._v("\n    ("+t._s(t._f("roundRating")(t.track.average_rating))+")\n  ")]),t._v(" "),e("v-rating",{attrs:{size:20,hover:"",dense:"","read-only":null==t.user},on:{input:function(a){t.onSetRating(a,t.track)}},nativeOn:{click:function(t){t.preventDefault(),t.stopPropagation()}},model:{value:t.track.average_rating,callback:function(a){t.$set(t.track,"average_rating",a)},expression:"track.average_rating"}})],1)},staticRenderFns:[]};var s=e("VU/8")(r,i,!1,function(t){e("CR7z")},"data-v-50f46a41",null);a.default=s.exports},"KX+3":function(t,a){},SsaN:function(t,a){},TP1O:function(t,a){},iwwE:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("TPW+"),r={data:function(){return{}},props:{user:Object,track:Object},mixins:[n.a],methods:{onFavouriteTrack:function(t){var a=this;this.setFavourite(t).then(function(){a.$emit("track-changed",t.id)})}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return null==t.user?e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",icon:"",flat:""},on:{click:function(t){t.stopPropagation()}},slot:"activator"},[e("v-icon",{attrs:{medium:"",color:"grey"}},[t._v("favorite")])],1),t._v(" "),e("span",[t._v("Login/Sign Up to Choose Favourites")])],1):e("v-btn",{attrs:{icon:"",flat:""},on:{click:function(a){a.stopPropagation(),t.onFavouriteTrack(t.track)}}},[e("v-icon",{attrs:{medium:"",color:t.track.is_favourite_of_current_user?"red":"grey"}},[t._v("\n    favorite\n  ")])],1)},staticRenderFns:[]};var s=e("VU/8")(r,i,!1,function(t){e("56HJ")},"data-v-13db31b9",null);a.default=s.exports},xsBa:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("woOf"),r=e.n(n),i=e("mtWM"),s=e.n(i),c=e("H33K"),o=e("iwwE"),l=e("kxiW"),u=e.n(l),d=e("TPW+"),v={data:function(){return{tracks:[],headers:[{text:"#",sortable:!1,class:"track-index"},{text:"Title",align:"left",sortable:!0,class:"track-title",value:"title"},{text:"Artist",align:"left",sortable:!0,class:"track-artist",value:"artist.name"},{text:"",sortable:!1,class:"track-play"},{text:"",sortable:!1,class:"track-edit"},{text:"",sortable:!1,class:"track-favourite"},{text:"Average Rating",align:"right",sortable:!0,value:"average_rating"},{text:"",sortable:!1,class:"track-remove"}],loading:!1,noDataMessage:"Loading Playlist"}},props:{user:Object,playlistId:Number},mixins:[d.a],methods:{getPlaylistTracksFromBackend:function(){var t=this;if(this.loading=!0,this.playlistId){var a="https://indigobeetle.pythonanywhere.com/api/playlists/"+this.playlistId+"/tracks";if(this.user){var e=this;this.user.getIdToken(!0).then(function(t){s.a.get(a,{headers:{Authorization:"bearer "+t}}).then(function(t){e.tracks=t.data,e.$emit("num-tracks",e.tracks.length),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})})}else s.a.get(a).then(function(a){t.tracks=a.data,t.$emit("num-tracks",t.tracks.length),t.loading=!1}).catch(function(a){console.log(a),t.loading=!1})}},onTrackChanged:function(t){var a=this;this.getSingleTrackFromBackend(t).then(function(e){var n=a.tracks.find(function(a){return a.id===t});n&&r()(n,e)}).catch(function(t){console.log(t)})},trackSelected:function(t,a){this.$router.push({name:"track",params:{id:t.id}})},onRemoveTrack:function(t){if(this.playlistId){var a=u.a.auth().currentUser;if(a){var e=this;a.getIdToken(!0).then(function(a){var n="https://indigobeetle.pythonanywhere.com/api/playlists/"+e.playlistId+"/tracks/"+t;s.a.delete(n,{headers:{Authorization:"bearer "+a}}).then(function(t){e.getPlaylistTracksFromBackend()}).catch(function(t){console.log(t)})})}}},onPlayTrack:function(t){this.$emit("play-track",t.id)},getTrackLocation:function(t){return"http://app.wetracker.xyz/#/loadsong?url="+encodeURI("https://modland.com/pub/modules/Fasttracker 2/"+t.location)}},components:{TrackRating:c.default,TrackFavourite:o.default},created:function(){this.getPlaylistTracksFromBackend()}},k={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{sm12:""}},[e("v-card",[e("v-data-table",{staticClass:"elevation-1 tracks",attrs:{headers:t.headers,items:t.tracks,loading:t.loading,"no-data-text":t.noDataMessage},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{on:{click:function(e){t.trackSelected(a.item)}}},[e("td",{staticClass:"track-index"},[t._v(t._s(a.index))]),t._v(" "),e("td",{staticClass:"track-title"},[t._v(t._s(a.item.title))]),t._v(" "),e("td",{staticClass:"track-artist"},[t._v(t._s(a.item.artist.name))]),t._v(" "),e("td",{staticClass:"track-play"},[e("v-icon",{attrs:{large:""},on:{click:function(e){e.stopPropagation(),t.onPlayTrack(a.item)}}},[t._v("play_arrow")])],1),t._v(" "),e("td",{staticClass:"track-edit"},[e("v-menu",{attrs:{bottom:"",left:""},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[e("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[e("v-icon",[t._v("more_vert")])],1),t._v(" "),e("v-list",{attrs:{dense:""}},[e("v-list-tile",[e("a",{attrs:{href:t.getTrackLocation(a.item),target:"_blank"}},[t._v("\n                      Open in WeTracker\n                    ")])])],1)],1)],1),t._v(" "),e("td",{staticClass:"track-favourite"},[e("track-favourite",{attrs:{user:t.user,track:a.item},on:{"track-changed":function(a){t.onTrackChanged(a)}}})],1),t._v(" "),e("td",{staticClass:"track-rating"},[e("track-rating",{attrs:{user:t.user,track:a.item},on:{"track-changed":function(a){t.onTrackChanged(a)}}})],1),t._v(" "),e("td",{staticClass:"track-remove"},[e("v-btn",{attrs:{icon:""},on:{click:function(e){t.onRemoveTrack(a.item.id)}}},[e("v-icon",[t._v("delete")])],1)],1)])]}}])},[e("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1)],1)],1)},staticRenderFns:[]};var g=e("VU/8")(v,k,!1,function(t){e("DF/5"),e("KX+3")},"data-v-300c7bcf",null);a.default=g.exports}});
//# sourceMappingURL=0.5bd243eb70d25a938e43.js.map